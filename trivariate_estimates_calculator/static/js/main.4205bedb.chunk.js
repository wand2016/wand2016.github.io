(this.webpackJsonptrivariate_estimates=this.webpackJsonptrivariate_estimates||[]).push([[0],{14:function(e,t,n){},8:function(e,t,n){e.exports=n(9)},9:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n(2),l=n(6),s=n(4),r=n(7),u=n(0),c=n.n(u),m=n(5),o=n.n(m),h=(n(14),function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={estimateLines:[p.createDefault()]},n}return Object(r.a)(t,e),Object(i.a)(t,[{key:"addLine",value:function(){var e=this.state.estimateLines[this.state.estimateLines.length-1];this.setState({estimateLines:this.state.estimateLines.concat(e||p.createDefault())})}},{key:"removeLineAt",value:function(e){var t=this.state.estimateLines.concat();t.splice(e,1),this.setState({estimateLines:t})}},{key:"replaceLineAt",value:function(e,t){var n=this.state.estimateLines.concat();n[e]=t,this.setState({estimateLines:n})}},{key:"createTaskNameChangeHandler",value:function(e){var t=this;return function(n){return t.replaceLineAt(e,t.state.estimateLines[e].withTaskName(n.target.value))}}},{key:"createOptimisticChangeHandler",value:function(e){var t=this;return function(n){return t.replaceLineAt(e,t.state.estimateLines[e].withOptimistic(Number(n.target.value)))}}},{key:"createNominalChangeHandler",value:function(e){var t=this;return function(n){return t.replaceLineAt(e,t.state.estimateLines[e].withNominal(Number(n.target.value)))}}},{key:"createPessimisticChangeHandler",value:function(e){var t=this;return function(n){return t.replaceLineAt(e,t.state.estimateLines[e].withPessimistic(Number(n.target.value)))}}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"calculator"},c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null),c.a.createElement("th",null,"#"),c.a.createElement("th",null,"\u30bf\u30b9\u30af\u540d"),c.a.createElement("th",null,"\u697d\u89b3\u7684\u898b\u7a4d\u3082\u308a",c.a.createElement("br",null),"(O, <1%)"),c.a.createElement("th",null,"\u5e73\u5747\u7684\u898b\u7a4d\u3082\u308a",c.a.createElement("br",null),"(N)"),c.a.createElement("th",null,"\u60b2\u89b3\u7684\u898b\u7a4d\u3082\u308a",c.a.createElement("br",null),"(P, <1%)"),c.a.createElement("th",null,"\u671f\u5f85\u5024",c.a.createElement("br",null),"(\u03bc)"),c.a.createElement("th",null,"\u6a19\u6e96\u504f\u5dee",c.a.createElement("br",null),"(\u03c3)"))),c.a.createElement("tbody",null,this.state.estimateLines.map((function(t,n){return c.a.createElement(v,{key:n,onRemoveRequested:function(){return e.removeLineAt(n)},lineNumber:n+1,lineData:t,onTaskNameChange:e.createTaskNameChangeHandler(n),onOptimisticChange:e.createOptimisticChangeHandler(n),onNominalChange:e.createNominalChangeHandler(n),onPessimisticChange:e.createPessimisticChangeHandler(n)})})),this.renderSummary())),c.a.createElement("button",{onClick:function(){return e.addLine()}},"+"))}},{key:"renderSummary",value:function(){return 0===this.state.estimateLines.length?null:c.a.createElement(d,{taskName:"\u5408\u8a08",mu:this.summaryMu(),sigma:this.summarySigma()})}},{key:"summaryMu",value:function(){return this.allLinesValid()?this.state.estimateLines.reduce((function(e,t){return e+t.mu()}),0):null}},{key:"summarySigma",value:function(){return this.allLinesValid()?Math.sqrt(this.state.estimateLines.reduce((function(e,t){return e+Math.pow(t.sigma(),2)}),0)):null}},{key:"allLinesValid",value:function(){return this.state.estimateLines.every((function(e){return e.isValid()}))}},{key:"validLines",value:function(){return this.state.estimateLines.filter((function(e){return e.isValid()}))}}]),t}(c.a.Component));function v(e){return c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("button",{onClick:e.onRemoveRequested},"-")),c.a.createElement("td",null,e.lineNumber),c.a.createElement("td",null,c.a.createElement("input",{type:"text",value:e.lineData.taskName,onChange:e.onTaskNameChange})),c.a.createElement("td",null,c.a.createElement("input",{type:"number",value:e.lineData.optimistic,onChange:e.onOptimisticChange})),c.a.createElement("td",null,c.a.createElement("input",{type:"number",value:e.lineData.nominal,onChange:e.onNominalChange})),c.a.createElement("td",null,c.a.createElement("input",{type:"number",onChange:e.onPessimisticChange,value:e.lineData.pessimistic})),c.a.createElement("td",null,c.a.createElement(E,{value:e.lineData.mu()})),c.a.createElement("td",null,c.a.createElement(f,{value:e.lineData.sigma()})))}function d(e){return c.a.createElement("tr",null,c.a.createElement("td",null),c.a.createElement("td",null),c.a.createElement("td",null,e.taskName),c.a.createElement("td",null),c.a.createElement("td",null),c.a.createElement("td",null),c.a.createElement("td",null,c.a.createElement(E,{value:e.mu})),c.a.createElement("td",null,c.a.createElement(f,{value:e.sigma})))}function E(e){var t=null===e.value?"-":Number(e.value).toFixed(1);return c.a.createElement("output",null,t)}function f(e){var t=null===e.value?"-":Number(e.value).toFixed(1);return c.a.createElement("output",null,t)}var p=function(){function e(t,n,i,l){Object(a.a)(this,e),this.taskName="task",this.optimistic=1,this.nominal=1,this.pessimistic=1,this.taskName=t,this.optimistic=n,this.nominal=i,this.pessimistic=l}return Object(i.a)(e,[{key:"isValid",value:function(){return 0<this.optimistic&&this.optimistic<=this.nominal&&this.nominal<=this.pessimistic}},{key:"mu",value:function(){return this.isValid()?(this.optimistic+4*this.nominal+this.pessimistic)/6:null}},{key:"sigma",value:function(){return this.isValid()?(this.pessimistic-this.optimistic)/6:null}},{key:"withTaskName",value:function(e){var t=this.clone();return t.taskName=e,t}},{key:"withOptimistic",value:function(e){var t=this.clone();return t.optimistic=e,t}},{key:"withNominal",value:function(e){var t=this.clone();return t.nominal=e,t}},{key:"withPessimistic",value:function(e){var t=this.clone();return t.pessimistic=e,t}},{key:"clone",value:function(){return new e(this.taskName,this.optimistic,this.nominal,this.pessimistic)}}],[{key:"createDefault",value:function(){return new e("task",1,1,1)}}]),e}();o.a.render(c.a.createElement(h,null),document.getElementById("root"))}},[[8,1,2]]]);
//# sourceMappingURL=main.4205bedb.chunk.js.map